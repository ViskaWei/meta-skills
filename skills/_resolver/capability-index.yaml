# DEPRECATED — Use capability-catalog.yaml instead (FDPS v4)
# This file is kept for backward compatibility only.
# All new development should use _resolver/capability-catalog.yaml.
#
# Capability Index — Maps cap-* IDs to block files
# Core capabilities for the public meta-skills framework
#
# Format: cap-<verb>-<object> → list of block files
# When multiple blocks implement the same capability, resolver picks by leveling.
# Blocks with cap_contract: true have YAML frontmatter for contract validation.
# NOTE: block paths updated to _caps/core/ for v4 compatibility.

capabilities:
  # === DISCOVER ===

  cap-intake-brief:
    - { block: "_caps/core/intake.md", leveling: "G3-V0-P2-M3", stage: discover, cap_contract: true }

  cap-extract-brief:
    - { block: "_caps/core/brief.md", leveling: "G3-V0-P2-M3", stage: discover, cap_contract: true }

  cap-extract-requirements:
    - { block: "_caps/core/requirements.md", leveling: "G3-V0-P2-M3", stage: discover, cap_contract: true }

  cap-map-problem-tree:
    - { block: "_caps/core/problem-tree.md", leveling: "G3-V1-P2-M3", stage: discover, cap_contract: true }

  cap-map-hypothesis-tree:
    - { block: "_caps/core/hypothesis-tree.md", leveling: "G2-V1-P1-M1", stage: discover, cap_contract: true }

  cap-extract-metrics-contract:
    - { block: "_caps/core/metrics-contract.md", leveling: "G3-V1-P2-M3", stage: discover, cap_contract: true }

  cap-extract-standards-scout:
    - { block: "_caps/core/standards-scout.md", leveling: "G3-V1-P1-M2", stage: discover, cap_contract: true }

  # === DECIDE ===

  cap-decide-adr:
    - { block: "_caps/core/adr.md", leveling: "G3-V0-P2-M3", stage: decide, cap_contract: true }

  cap-compare-option-matrix:
    - { block: "_caps/core/option-matrix.md", leveling: "G3-V0-P1-M2", stage: decide, cap_contract: true }

  cap-plan-exec-plan:
    - { block: "_caps/core/exec-plan.md", leveling: "G3-V1-P1-M1", stage: decide, cap_contract: true }

  cap-plan-roadmap:
    - { block: "_caps/core/roadmap-mvp.md", leveling: "G3-V1-P2-M3", stage: decide, cap_contract: true }

  cap-plan-experiment-design:
    - { block: "_caps/core/experiment-design.md", leveling: "G3-V1-P2-M3", stage: decide, cap_contract: true }

  # === BUILD ===

  cap-scaffold-experiment:
    - { block: "_caps/core/scaffold.md", leveling: "G3-V1-P2-M3", stage: build, cap_contract: true }

  cap-build-implementation:
    - { block: "_caps/core/implementation.md", leveling: "G3-V0-P2-M3", stage: build, cap_contract: true }

  cap-map-tasks:
    - { block: "_caps/core/task-decomposition.md", leveling: "G3-V1-P2-M3", stage: build, cap_contract: true }

  # === VERIFY ===

  cap-decide-quality-gate:
    - { block: "_caps/core/quality-gate.md", leveling: "G3-V0-P3-M3", stage: verify, cap_contract: true }

  cap-assemble-evidence-bundle:
    - { block: "_caps/core/evidence-bundle.md", leveling: "G3-V0-P2-M3", stage: verify, cap_contract: true }

  cap-plan-test:
    - { block: "_caps/core/test-plan.md", leveling: "G3-V1-P2-M3", stage: verify, cap_contract: true }

  # === DELIVER ===

  cap-package-output:
    - { block: "_caps/core/package.md", leveling: "G3-V0-P2-M3", stage: deliver, cap_contract: true }

  cap-publish-release:
    - { block: "_caps/core/release-notes.md", leveling: "G2-V1-P1-M1", stage: deliver, cap_contract: true }

  # === OPERATE ===

  cap-build-runbook:
    - { block: "_caps/core/runbook.md", leveling: "G3-V1-P2-M3", stage: operate, cap_contract: true }

  cap-build-observability:
    - { block: "_caps/core/observability.md", leveling: "G3-V1-P2-M3", stage: operate, cap_contract: true }

  # === REVIEW ===

  cap-review-improvement:
    - { block: "_caps/core/improvement-critic.md", leveling: "G3-V1-P1-M1", stage: review, cap_contract: true }

  cap-decide-gate:
    - { block: "_caps/core/decision-gate.md", leveling: "G3-V0-P1-M1", stage: review, cap_contract: true }

  cap-extract-retro:
    - { block: "_caps/core/exp-retro.md", leveling: "G3-V1-P2-M3", stage: review, cap_contract: true }

  cap-extract-design-principles:
    - { block: "_caps/core/design-principles-extract.md", leveling: "G2-V1-P1-M1", stage: review, cap_contract: true }

  # === KNOWLEDGE ===

  cap-capture-card:
    - { block: "_caps/core/capture.md", leveling: "G3-V0-P2-M3", stage: knowledge, cap_contract: true }

  cap-sync-hub:
    - { block: "_caps/core/hub-sync.md", leveling: "G3-V1-P1-M1", stage: knowledge, cap_contract: true }

  cap-sync-index:
    - { block: "_caps/core/index.md", leveling: "G3-V1-P2-M3", stage: knowledge, cap_contract: true }
